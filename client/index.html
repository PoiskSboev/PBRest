<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <script type="text/javascript">

        function showSeating(json) {
            var seat = json.definitions.seatmap[0];
            $("#seatPosition").html("<b>Seat:</b> " + stringify_(seat));

            var seatTypesMap = getMapFromList(json.definitions.seats);
            $("#seatSize").html("<b>Seat_type_ref:</b> " + stringify_(seatTypesMap.get(seat["seat_type_ref"])));

            var deckTypesMap = getMapFromList(json.aircraft.decks);
            $("#seatDeck").html("<b>Deck_ref:</b> " + stringify_(deckTypesMap.get(seat["deck_ref"])));

            $("#wholeJson").html(stringify_(json));
        }

        function getMapFromList(someList) {
            var result = new Map();
            for (var i = 0; i < someList.length; i++) {
                result.set(someList[i].id, someList[i]);
            }
            return result;
        }

        function stringify_(value) {
            return JSON.stringify(value, null, 2);
        }
    </script>
    <script src="routing.js"></script>
</head>
<body onLoad='doAjax("NVR123", "departureDate");'>
<img id="backdropIn" src="" style="float: left">

<div style="margin-left: 50px; width: 300px; float: left">
    <H2>Seat information:</H2>

    <pre id="seatPlace"
         style="width: 8px; height: 10px; background-color: yellow; border-color: black; border-style: solid; border-width: 1px"></pre>
    <pre id="seatPosition"></pre>
    <pre id="seatSize"></pre>
    <pre id="seatDeck"></pre>
</div>
<div style="margin-left: 50px; float: left">
    <H2>Whole JSON</H2>
    <pre id="wholeJson"></pre>
</div>
</body>
</html>
